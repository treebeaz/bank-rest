# Разработка Системы Управления Банковскими картами

REST API для банковской системы управления картами и пользователями.

## Техническое задание

### Описание Задачи
Система для создания и управления банковскими картами, просмотра крат и переводов между собственными картами пользователя

[Ссылка на полное ТЗ](https://docs.google.com/document/d/1o5CuPpvpvjMcQ85mA_F6CnMkbyVzEFis/edit#heading=h.yq1k2uhufbyj)

### Атрибуты карты
- Номер карты - зашифрован, отображается маской: **** **** **** 1234
- Владелец - данные владельца карты
- Срок действия - дата истечения срока
- Статус - Активна, Заблокирована, Ожидает активации
- Баланс - текущий баланс карты

### Технологии
- Java 21
- Spring Boot 3.5.7
- Spring Security
- JWT
- PostgreSQL
- Spring Data JPA
- Lombok
- JUnit5 & Mock

### Архитектура

#### Ролевая модель

- ADMIN - полный доступ к управлению картами и пользователями
- USER - доступ только к своим картам и операциям

#### Статусы Карт
- PENDING_ACTIVE - ожидает активации администратора
- ACTIVE - активна, может проводить операции
- PENDING_BLOCK - ожидает блокировки
- BLOCKED - заблокирована, операции невозможны
- EXPIRED - срок действия карты истек


## Установка и запуск
1. Клонирование репозитория
2. Настройка базы данных. Использовал контейнеризацию:`docker run --name some-postgres -e POSTGRES_PASSWORD=mysecretpassword -p port:port -d postgres:17.6`
3. Изменить все нужные настройки в `src/main/resources/application.yml` для подключения к базе данных
4. Запустить приложение:
```
# Сборка
./gradlew clean build

# Запуск 
./gradlew bootRun
```

## Документация API
После запуска приложения документация доступна по адресу:
**Swagger UI:**`http://localhost:8080/swagger-ui.html`